<?xml version="1.0"?>
<!DOCTYPE myks PUBLIC "-//YKS//MYKS">
<myks>
  <procedure name="ks_users_tree" type="record" setof="setof">
    <param type="int"/>
    <def>
DECLARE

rec record;
BEGIN
 FOR rec IN ( SELECT * FROM `ks_generic_tree`('ivs_users_tree', 'user_id', $1, 0) AS func(user_id integer, parent_id integer, depth INTEGER) ) LOOP
 
 RETURN NEXT rec;
 END LOOP;
 return;
END;
</def>
  </procedure>
</myks>
